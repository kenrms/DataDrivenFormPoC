@using DataDrivenFormPoC.Views.Components.ContainerComponents;

<ContainerComponent State=State>
    <Content>
        <EditForm EditContext=FormEditContext
                  OnSubmit=HandleSubmit>

            <ObjectGraphDataAnnotationsValidator />
            <DataAnnotationsValidator />

            @foreach (var (question, questionNumber) in Form.Questions.Select((question, i) => (question, ++i)))
            {
                <QuestionComponent QuestionNumber=questionNumber
                                   Question=@question
                                   Responses=@QuestionOptionResponsesMap[question.Id] />

                <br />
                <br />
            }

            <br />
            <input type="submit" value="Submit" />

            <ValidationSummary />

        </EditForm>
    </Content>
</ContainerComponent>